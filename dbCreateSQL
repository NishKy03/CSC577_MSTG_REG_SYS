CREATE DATABASE maahaddb

CREATE TABLE STUDENT(
    STUID INT(5) NOT NULL AUTO_INCREMENT,
    STUNAME VARCHAR(255) NOT NULL,
    STUPNO VARCHAR(12) NOT NULL,
    STUEMAIL VARCHAR(50) NOT NULL,
    STUPASSWORD VARCHAR(30) NOT NULL,
    STUGENDER VARCHAR(6),
    STUADDRESS VARCHAR(255),
    STUDOB DATE,
    FATHERNAME VARCHAR(255),
    MOTHERNAME VARCHAR(255),
    SALARY DECIMAL(10,2),
    STUIMAGE VARCHAR(255),
    STATUS VARCHAR(50),
    PRIMARY KEY (STUID)
    );
ALTER TABLE STUDENT AUTO_INCREMENT = 10001;

CREATE TABLE CLERK(
    CLERKID INT(5) NOT NULL AUTO_INCREMENT,
    CLERKNAME VARCHAR(255) NOT NULL,
    CLERKPNO VARCHAR(12),
    CLERKDOB DATE,
    CLERKEMAIL VARCHAR(50),
    CLERKTYPE VARCHAR(10),
    CLERKPASSWORD VARCHAR(30) NOT NULL,
    CLERKIMAGE VARCHAR(255),
    STATUS VARCHAR(50),
    PRIMARY KEY (CLERKID)
    );
ALTER TABLE CLERK AUTO_INCREMENT = 20001;    


CREATE TABLE PRINCIPAL (
    PRINCIPALID INT(5) NOT NULL PRIMARY KEY,
    PRINCIPALNAME VARCHAR(50) NOT NULL,
    PRINCIPALPNO VARCHAR(12) NOT NULL,
    PRINCIPALDOB DATE,
    PRINCIPALEMAIL VARCHAR(30),
    PRINCIPALADDRESS VARCHAR(255),
    PRINCIPALPASS VARCHAR(30) NOT NULL
    PRINCIPALIMAGE VARCHAR(255),
    );

CREATE TABLE REGISTRATION (
    REGNO INT(5) NOT NULL AUTO_INCREMENT,  
    STUID INT(5),
    PRINCIPALID INT(5),
    REGDATE DATE,
    CLERKID INT(5),
    STATUS VARCHAR(50),
    REGSTATUS VARCHAR(50),
    PRIMARY KEY (REGNO),
    FOREIGN KEY (STUID) REFERENCES STUDENT(STUID), 
    FOREIGN KEY (PRINCIPALID) REFERENCES PRINCIPAL(PRINCIPALID), 
    FOREIGN KEY (CLERKID) REFERENCES CLERK(CLERKID)
);

ALTER TABLE REGISTRATION AUTO_INCREMENT = 40001;

CREATE TABLE notifications (
    notification_id INT AUTO_INCREMENT PRIMARY KEY,
    stuid VARCHAR(20),
    message TEXT,
    status ENUM('unread', 'read') DEFAULT 'unread',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (stuid) REFERENCES STUDENT(stuid),
);
